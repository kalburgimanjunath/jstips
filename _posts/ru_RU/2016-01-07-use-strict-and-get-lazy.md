---
layout: post

title: Включите строгий режим и расслабьтесь
tip-number: 07
tip-username: nainslie
tip-username-profile: https://twitter.com/nat5an
tip-tldr: Строгий режим в JavaScript помогает разработчикам писать "безопасный" код.

categories:
    - ru_RU
---

Строгий режим в JavaScript помогает разработчикам писать "безопасный" код.

По умолчанию JavaScript позволяет программисту быть более беспечным. Например, он не требует нас объявлять переменные с `var`, при первом объявлении. Это может показаться удобным для неопытного программиста, но это источник многих проблем, когда мы допускаем ошибку в названии перменной или случайно ссылаемся на нее вне ее контекста.

Программисты любят заставлять компьютер делать за них скучную работу и автоматически проверять работу на ошибки. Это и позволяет нам cделать директива "use strict", превращая наши ошибки в JavaScript ошибки.

Мы можем включить эту директиву, добавив ее в начало js файла:

```javascript
// Строгий режим на весь скрипт
"use strict";
var v = "Hi!  I'm a strict mode script!";
```

или внутрь функции:

```javascript
function f()
{
  // Строгий режим на уровне функции
  'use strict';
  function nested() { return "And so am I!"; }
  return "Hi!  I'm a strict mode function!  " + nested();
}
function f2() { return "I'm not strict."; }
```

Добавляя эту директиву в файл или функцию, мы говорим JavaScript движку работать в строгом режиме, что выключает поведение, которое обычно нежелательно в больших JS проектах. Кроме других вещей, строгий режим меняет поведение следующих:

* Переменные могут быть объявлены только с указанием "var"
* Попытка изменить свойство объекта, доступное только для чтения, выдаст ошибку
* Конструкторы должны вызываться только с ключевым словом "new"
* "this" по умолчанию не привязан к глобальному объекту
* Ограниченны возможности eval()
* Зарезервированные слова нельзя использовать в качестве имен переменных

Строгий режим отлично подходит для новых проектов, но попытка внедрить его в один из старых проектов может стать проблемой, если он никогда применялся. Проблемы также возникнут при склеивании всех js файлов в один большой, весь код будет работать в строгом режиме.

`use strict;` — это выражение, а не оператор и ранние версии JavaScript будут игнорировать его.
Строгий режим поддерживается в:

* Internet Explorer from version 10.
* Firefox from version 4.
* Chrome from version 13.
* Safari from version 5.1.
* Opera from version 12.

[На MDN можно найти более полное описание строгого режима](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode).
